package server

import (
	"context"
	"errors"
)

var switchIPtoVLAN = map[string]int{
	"10.233.254.1":   501,
	"10.233.254.2":   502,
	"10.233.254.3":   503,
	"10.233.254.4":   504,
	"10.233.254.5":   505,
	"10.233.254.6":   506,
	"10.233.254.7":   507,
	"10.233.254.8":   508,
	"10.233.254.9":   509,
	"10.233.254.10":  510,
	"10.233.254.11":  511,
	"10.233.254.12":  512,
	"10.233.254.13":  513,
	"10.233.254.14":  514,
	"10.233.254.15":  515,
	"10.233.254.16":  516,
	"10.233.254.17":  517,
	"10.233.254.18":  518,
	"10.233.254.19":  519,
	"10.233.254.20":  520,
	"10.233.254.21":  521,
	"10.233.254.22":  522,
	"10.233.254.23":  523,
	"10.233.254.24":  524,
	"10.233.254.25":  525,
	"10.233.254.26":  526,
	"10.233.254.27":  527,
	"10.233.254.28":  528,
	"10.233.254.29":  529,
	"10.233.254.30":  530,
	"10.233.254.31":  531,
	"10.233.254.32":  532,
	"10.233.200.101": 501,
	"10.233.200.102": 502,
	"10.233.200.103": 503,
	"10.233.200.104": 504,
	"10.233.200.105": 505,
	"10.233.200.106": 506,
	"10.233.200.107": 507,
	"10.233.200.108": 508,
	"10.233.200.109": 509,
	"10.233.200.110": 510,
	"10.233.200.111": 511,
	"10.233.200.112": 512,
	"10.233.200.113": 513,
	"10.233.200.114": 514,
	"10.233.200.115": 515,
	"10.233.200.116": 516,
	"10.233.200.117": 517,
	"10.233.200.118": 518,
	"10.233.200.119": 519,
	"10.233.200.120": 520,
	"10.233.200.121": 521,
	"10.233.200.122": 522,
	"10.233.200.123": 523,
	"10.233.200.124": 524,
	"10.233.200.125": 525,
	"10.233.200.126": 526,
	"10.233.200.127": 527,
	"10.233.200.128": 528,
	"10.233.200.129": 529,
	"10.233.200.130": 530,
	"10.233.200.131": 531,
	"10.233.200.132": 532,
}

// TODO replace hardcoded map by db query
func (s *Server) translateSwitchIPtoVLAN(ctx context.Context, switchIP string) (int, error) {
	if vlan, ok := switchIPtoVLAN[switchIP]; ok {
		return vlan, nil
	}
	s.Log.Error().Str("switch ip", switchIP).Msg("failed to find vlan for switch ip")
	return 0, errors.New("switch ip not found")
}
